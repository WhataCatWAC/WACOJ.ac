version: '3.7'

services:
    
  oj-db:
    image: mongo
    container_name: oj-db
    restart: always
    volumes:
      - ./data/db:/data/db

  oj-main:
    build: ./docker
    extra_hosts:
      - "github.com:140.82.114.3"
    container_name: oj-main
    restart: always
    privileged: true
    depends_on:
      - oj-db
    volumes:
      - ./data/oj:/root/.hydro
    ports:
      - "0.0.0.0:8888:8888"
