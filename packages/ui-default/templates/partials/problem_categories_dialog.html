<div style="display: none" class="dialog--category-filter">
  <div>
    <div class="dialog--category-filter__header">      
      <div class="flex-row flex-warp flex-cross-center" data-category-tab-container>
        {%- for category in Object.keys((model.system.get('problem.categories')|parseYaml)) -%}
        <div class="dialog--category-filter__header--item text-align-vertical" data-category-tab="{{category}}">
        {{ category }}
        </div>
        {%- endfor -%}
      </div>
    </div>
    {%- for category, sub_categories in model.system.get('problem.categories')|parseYaml  -%}
    <ol class="section__body chip-list dialog--category-filter__body hide" data-category-container="{{category}}">
      <h2 class="section__title">{{ category }}: </h2>
      <div class="flex-row flex-warp flex-cross-center">
      {%- if sub_categories|length -%}
        {%- for subcategory in sub_categories -%}
        <span class="category-filter__subcategory-tag filter-item chip-list__item" data-category="{{category}}">{{ subcategory }}</span>
        {%- endfor -%}
      {%- else -%}
        <span class="category-filter__category-tag filter-item chip-list__item">{{ category }}</span>
      {%- endif -%}
      </div>  
    </ol>
    {%- endfor -%}
  </div>
</div>