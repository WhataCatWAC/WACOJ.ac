<form method="get" id="searchForm" action="{{ url('problem_main') }}">
  <div class="search-panel" data-widget-search-panel>
    <div class="search-panel--header">
      <div class="title">{{ _('SearchProblem') }}:</div>
      <div class="search">
        <div class="search--bar">
          <div>
            <span class="icon icon-search"></span>
          </div>          
          <input name="q" type="text" value="{{ qs }}" placeholder="{{ _('SearchHint') }}">
        </div>
        <button type="submit">
          <span>{{ _('Search') }}</span>
        </button>
      </div>
    </div>
    <div class="search-panel--body">
      <section>
        <h2 class="title text-align-vertical">
          {{ _('ProblemType') }}:
        </h2>
        <div class="list" data-problem-type-container>
          {%- for problemType in (model.system.get('problem.descriptors')|parseYaml)["题目类型"] -%}
          <div class="list__item text-align-vertical" data-problem-type="{{problemType}}">
            {{ problemType }}
          </div>
          {%- endfor -%}          
        </div>
      </section>
      <section>
        <h2 class="title text-align-vertical">
          {{ _('ProblemDifficulty') }}:
        </h2>
        <div class="list" data-problem-difficulty-container>
          {%- for problemDifficulty in (model.system.get('problem.descriptors')|parseYaml)["难度"] -%}
          <div class="list__item text-align-vertical" data-problem-difficulty="{{problemDifficulty}}">
            {{ problemDifficulty }}
          </div>
          {%- endfor -%}          
        </div>                
      </section>        
      <section style="margin-bottom: 36px">
        <h2 class="title text-align-vertical">
          {{ _('ProblemTag') }}:
        </h2>
        <div class="problem-tag-container">
          <div class="list">
            <div class="list__item text-align-vertical dialog-button" data-problem-tag-dialog-button>
              {{ _('SelectTags') }}
            </div>   
          </div>     
          <div class="problem-tag-container--selected" data-problem-tag-selected-container-outer>
            {%- for problemTagCategory in Object.keys((model.system.get('problem.descriptors')|parseYaml)["标签类型"]) -%}
              {%- for problemTag in (model.system.get('problem.descriptors')|parseYaml)["标签类型"][problemTagCategory] -%}
              <div class="item hide selected" data-problem-tag-category-outer="{{problemTagCategory}}" data-problem-tag-selected-outer="{{problemTag}}">
                {{ problemTag }}
                <span class="icon icon-close"></span>
              </div>
              {%- endfor -%}       
            {%- endfor -%}
          </div>                
        </div>               
      </section>
      {% include "partials/problem_stat.html" %}
    </div>
  </div>
  {% include "partials/problem_tag_dialog.html" %}
</form>