{% extends "layout/basic.html" %}
{% block content %}
{{ set(UiContext, 'pdoc', pdoc) }}
<div class="row">
  <div class="medium-9 columns">
    <div class="section">
      <div class="section__header">
        <h1 class="section__title">{{ _('Submit to Judge') }}</h1>
      </div>
      <div class="section__body typo" name="submit_section">
        <form method="post" enctype="multipart/form-data">
          {% set files = pdoc.config.submit_files or ['code'] %}
          <div class="section__tab-container">
            <ul class="section__tabs">
              {% for file in files %}
              <li class="section__tab-item">
                <h1 class="section__tab-title">{{ file }}</h1>
                <div class="section__tab-main submit-file__{{ file }}">
                  <div class="hasjs--hide">
                  {{ form.form_select({
                      label:'Code language',
                      options:langRange,
                      name:'lang.' + file,
                      value:handler.user.codeLang
                    }) }}
                  </div>
                  <div class="row nojs--hide codelang-selector" id="{{ file }}"></div>
                  {{ form.form_textarea({label:'Code', columns:12, name:'code.' + file, extra_class:'monospace', autofocus:true}) }}
                  <div class="row">
                    <div class="medium-12 columns">
                      <p>{{ _('Or upload a file:') }} <input type="file" name="file.{{ file }}"></p>
                      <br />
                    </div>
                  </div>
                </div>
              </li>
              {% endfor %}
            </ul>
          </div>
          {% if files|length > 1 %}
          <div class="row">
            <div class="medium-12 columns">
              <p>{{ _('Or upload all files as a zip:') }} <input type="file" name="allFiles"></p>
              <br />
            </div>
          </div>
          {% endif %}
          <div class="row"><div class="columns">
            <input type="submit" class="rounded primary button" value="{{ _('Submit') }}">
          </div></div>
        </form>
      </div>
    </div>
  </div>
  <div class="medium-3 columns">
    {% set owner_udoc = udoc %}
    {% include "partials/problem_sidebar.html" %}
  </div>
</div>

{% endblock %}
